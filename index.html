<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LexFlow - Assistente Jur√≠dico com IA</title>
    <meta name="description" content="Assistente jur√≠dico inteligente com IA integrada do Chrome (Gemini Nano) para an√°lise de textos legais">
    <meta name="keywords" content="direito, jur√≠dico, IA, Gemini Nano, an√°lise legal, advogado">
    <link rel="icon" href="assets/lexflow.ico" type="image/x-icon">
    <link rel="stylesheet" href="src/styles/main.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                ‚öñÔ∏è LexFlow
            </div>
            <div class="user-info">
                <span>üë§ <span id="user-name">Usu√°rio</span></span>
                <span>|</span>
                <span>üìç <span id="user-location">Localiza√ß√£o</span></span>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="main-nav">
            <button class="nav-tab active" data-view="home">üè† In√≠cio</button>
            <button class="nav-tab" data-view="workspace">üìö Workspace Jur√≠dico</button>
            <button class="nav-tab" data-view="collector">üìù Coletor & Curadoria</button>
            <button class="nav-tab" data-view="history">üìä Hist√≥rico & Analytics</button>
        </nav>

        <!-- Content -->
        <main class="content">
            <!-- Home View -->
            <div id="home-view" class="view active">
                <div class="welcome-section">
                    <h1 class="welcome-title">Bem-vindo ao LexFlow</h1>
                    <p class="welcome-subtitle">Seu assistente jur√≠dico inteligente com IA integrada</p>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="stat-analyses">0</div>
                            <div class="stat-label">An√°lises Realizadas</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="stat-documents">0</div>
                            <div class="stat-label">Documentos Curados</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="stat-time">0h</div>
                            <div class="stat-label">Tempo Economizado</div>
                        </div>
                    </div>
                </div>

                <div class="feature-grid">
                    <div class="feature-card" data-navigate="workspace">
                        <div class="feature-icon">üîç</div>
                        <div class="feature-title">Pesquisa & An√°lise Legal</div>
                        <div class="feature-description">
                            Pesquise leis por jurisdi√ß√£o, selecione artigos relevantes e gere an√°lises jur√≠dicas 
                            personalizadas com IA. Ideal para pesquisa doutrin√°ria e fundamenta√ß√£o de pe√ßas.
                        </div>
                    </div>
                    
                    <div class="feature-card" data-navigate="collector">
                        <div class="feature-icon">üìã</div>
                        <div class="feature-title">Curadoria de Conte√∫do</div>
                        <div class="feature-description">
                            Capture conte√∫do jur√≠dico da web, organize com metadados e gere documentos 
                            estruturados para sua base de conhecimento ou reposit√≥rio p√∫blico.
                        </div>
                    </div>
                    
                    <div class="feature-card" data-navigate="history">
                        <div class="feature-icon">üìà</div>
                        <div class="feature-title">Analytics & Hist√≥rico</div>
                        <div class="feature-description">
                            Acompanhe suas an√°lises, reutilize prompts eficazes e monitore sua 
                            produtividade jur√≠dica com m√©tricas detalhadas.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Workspace View -->
            <div id="workspace-view" class="view">
                <div class="workspace-container">
                    <!-- Sidebar -->
                    <div class="sidebar">
                        <div class="section-title">
                            üåç Configura√ß√£o de Jurisdi√ß√£o
                        </div>
                        
                        <div class="jurisdiction-selector">
                            <div class="form-group">
                                <label class="form-label">Pa√≠s</label>
                                <select class="form-control" id="country-select">
                                    <option value="br" selected>Brasil</option>
                                    <option value="us">Estados Unidos</option>
                                    <option value="es">Espanha</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Estado</label>
                                <select class="form-control" id="state-select">
                                    <option value="rs" selected>Rio Grande do Sul</option>
                                    <option value="sp">S√£o Paulo</option>
                                    <option value="rj">Rio de Janeiro</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Cidade</label>
                                <select class="form-control" id="city-select">
                                    <option value="porto-alegre" selected>Porto Alegre</option>
                                    <option value="canoas">Canoas</option>
                                    <option value="caxias">Caxias do Sul</option>
                                </select>
                            </div>
                        </div>

                        <div class="section-title">
                            üìö Documentos Dispon√≠veis
                        </div>
                        
                        <div class="document-list" id="document-list">
                            <!-- Documents will be populated here -->
                        </div>

                        <div class="form-group" style="margin-top: 1rem;">
                            <label class="form-label">üîç Buscar Artigos</label>
                            <input type="text" class="form-control" id="search-input" placeholder="Ex: direito do consumidor">
                        </div>
                    </div>

                    <!-- Main Panel -->
                    <div class="main-panel">
                        <div class="section-title">
                            üìñ Artigos Selecionados
                        </div>

                        <div class="articles-container" id="articles-container">
                            <p style="color: #7f8c8d; text-align: center; padding: 2rem;">
                                Selecione um documento √† esquerda para visualizar os artigos
                            </p>
                        </div>

                        <div class="selected-context" id="selected-context" style="display: none;">
                            <div class="section-title">
                                ‚úÖ Contexto Selecionado
                                <button class="clear-all-btn" id="clear-all-articles" title="Limpar todos os artigos">
                                    üóëÔ∏è Limpar Todos
                                </button>
                            </div>
                            <div id="context-items"></div>
                        </div>

                        <div class="prompt-studio">
                            <div class="section-title">
                                ü§ñ Prompt Studio
                            </div>
                            
                            <div class="preset-buttons">
                                <button class="preset-btn active" data-preset="resumo">
                                    üìù Resumo Executivo
                                </button>
                                <button class="preset-btn" data-preset="analise">
                                    üîç An√°lise Jur√≠dica
                                </button>
                                <button class="preset-btn" data-preset="comparacao">
                                    ‚öñÔ∏è Compara√ß√£o Legal
                                </button>
                                <button class="preset-btn" data-preset="clausulas">
                                    üìã Gera√ß√£o de Cl√°usulas
                                </button>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Prompt Personalizado</label>
                                <textarea class="form-control" rows="3" id="custom-prompt" 
                                          placeholder="Descreva o que voc√™ gostaria que a IA analise...">Fa√ßa um resumo executivo dos artigos selecionados, destacando os principais direitos e obriga√ß√µes, com linguagem acess√≠vel para apresenta√ß√£o ao cliente.</textarea>
                            </div>

                            <button class="btn btn-primary" id="execute-ai-btn" style="width: 100%; margin-top: 1rem;">
                                üöÄ Executar An√°lise com IA
                            </button>

                            <div class="ai-output" id="ai-output" style="display: none;">
                                <div class="ai-thinking" id="ai-thinking">
                                    <div class="spinner"></div>
                                    Analisando com IA...
                                </div>
                                <div id="ai-result" style="display: none;">
                                    <div id="result-content"></div>
                                    <div class="result-actions">
                                        <div class="feedback-buttons">
                                            <button class="feedback-btn" data-feedback="positive" title="Resultado √∫til">
                                                üëç
                                            </button>
                                            <button class="feedback-btn" data-feedback="negative" title="Resultado n√£o √∫til">
                                                üëé
                                            </button>
                                        </div>
                                        <button class="copy-btn" id="copy-result-btn" title="Copiar resultado">
                                            üìã Copiar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Collector View -->
            <div id="collector-view" class="view">
                <div class="section-title">
                    üìù Coletor & Curadoria de Conte√∫do
                </div>
                
                <div class="collector-grid">
                    <div>
                        <div class="section-title">üì• Fila de Captura (<span id="queue-count">0</span> itens)</div>
                        <div id="queue-items">
                            <p style="color: #7f8c8d; text-align: center; padding: 2rem;">
                                Nenhum item na fila. Use o bot√£o "Adicionar Conte√∫do" para come√ßar.
                            </p>
                        </div>
                        <button class="btn btn-primary" id="add-sample-content" style="margin-top: 1rem;">
                            ‚ûï Adicionar Conte√∫do de Exemplo
                        </button>
                    </div>

                    <div class="editor-panel">
                        <div class="section-title">‚úèÔ∏è Editor de Metadados</div>
                        
                        <div class="metadata-form" id="metadata-form">
                            <p style="color: #7f8c8d; text-align: center; padding: 2rem;">
                                Selecione um item da fila para editar
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- History View -->
            <div id="history-view" class="view">
                <div class="section-title">
                    üìä Hist√≥rico & Analytics
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="history-analyses">0</div>
                        <div class="stat-label">An√°lises com IA</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="history-documents">0</div>
                        <div class="stat-label">Documentos Curados</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="history-articles">0</div>
                        <div class="stat-label">Artigos Consultados</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">89%</div>
                        <div class="stat-label">Precis√£o da IA</div>
                    </div>
                </div>

                <div class="section-title" style="margin-top: 2rem;">
                    üïí An√°lises Recentes
                </div>

                <div id="history-items">
                    <p style="color: #7f8c8d; text-align: center; padding: 2rem;">
                        Nenhuma an√°lise realizada ainda. Use o Workspace Jur√≠dico para come√ßar.
                    </p>
                </div>
            </div>
        </main>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Scripts -->
    <script type="module" src="src/js/app.js"></script>
</body>
</html>